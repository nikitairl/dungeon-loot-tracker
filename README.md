# DungeonLootTracker (Dev Version)

**Версия:** Dev  
**Игра:** World of Warcraft (The War Within / 10.2.x)  
**Автор:** Nikita | Чиловар-Ревущий Фьорд, Ифаэль-Гордунни

---

## Описание

DungeonLootTracker — аддон для World of Warcraft, который позволяет закреплять (привязывать) желаемые предметы за конкретными подземельями и отображать эту информацию в интерфейсе внутриигрового **Путеводителя по подземельям** (Dungeon Journal).  

Аддон предназначен для игроков, активно проходящих подземелья (Mythic+, рейды, фарм редких предметов), чтобы легко отслеживать, где падают нужные предметы для их персонажей.

---

## Основной функционал

- **Добавление предметов:**  
  Добавление любого предмета из игры в список для выбранного подземелья с помощью slash-команды `/dlt add <itemILink>`.  

- **Автоматическое определение подземелья:**  
  Аддон использует `LootData.lua` для получения `MapID` или `ZoneID` предмета и определяет текстовое название локации.  

- **Отображение в Путеводителе:**  
  В информации о подземелье появляется кнопка, которая открывает список закрепленных предметов.  

- **Управление списком:**  
  Возможность удалять предметы или добавлять новые через команды `/dlt add` и `/dlt remove`.  

- **Сохранение данных:**  
  Использование SavedVariables (`DLT_SavedData`) для сохранения данных между сессиями.

---

## Slash-команды

| Команда | Описание |
|---------|----------|
| `/dlt add <itemLink >` | Добавить предмет в список для текущего подземелья |
| `/dlt remove <itemLink>` | Удалить предмет из списка |
| `/dlt list` | Показать все добавленные предметы |

> Для определения текущего MapID игрока:  
> ```lua
> /dump C_Map.GetBestMapForUnit("player")
> ```

---

## Технические требования

- **Язык разработки:** Lua  
- **API WoW:** Взаимодействие с фреймами Dungeon Journal, базой данных предметов, событиями игры.  
- **UI:** Создание кнопок, scrollFrame и отображение информации о предметах.  
- **Сохранение:** SavedVariables для хранения списка между сессиями.  
- **Производительность:** Минимальное влияние на FPS и лаги при открытии Путеводителя.

---

## Нефункциональные требования

- Простой и интуитивный интерфейс.  
- Надёжность: данные не теряются.  
- Лёгкость в использовании: добавление предмета одним действием.

---

## Этапы разработки

1. Исследование WoW API (Dungeon Journal, предметы, Map/ZoneID).  
2. Проектирование архитектуры аддона и UI.  
3. Реализация базового функционала: сохранение данных, отображение списка.  
4. Добавление функций управления: добавление/удаление предметов.  
5. Тестирование и отладка.  
6. Публикация (например, на CurseForge/WoWInterface).

---

## Успех проекта

Аддон помогает игрокам не забывать, какие предметы они хотят получить в конкретных подземельях, упрощает планирование фарма и повышает эффективность прохождений.

---
